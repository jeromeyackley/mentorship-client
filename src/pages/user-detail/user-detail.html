<!--
  Generated template for the UserDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="dark">
    <div style="width:100%;padding-right:16px;text-align: center;">
      <img src="assets/imgs/mentr_white.png" class="logo-image-small">
    </div>
    <ion-buttons end *ngIf="canEdit">
      <button ion-button icon-only (click)="edit()" [disabled]="isEdit">
        <ion-icon name="create"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-grid no-padding>
    <ion-row text-center>
      <ion-col no-padding>
        <img src="assets/imgs/default_avatar.png" class="p-image" alt="avatar" height="120px" width="120px" style="border-radius:60px;">
        <p class="display-2">{{user.first_name}} {{user.last_name}}</p>
      </ion-col>
    </ion-row>
    <ion-row class="spacer">
      <ion-col no-padding>
        <ion-row>
          <ion-col no-padding>
            <span class="body-2">Email:</span><br>
            <ion-input type="text" name="email" [(ngModel)]="user.email" [ngClass]="editClass" [disabled]="!isEdit" class="body-2 gray">{{user.email}}</ion-input></ion-col>
        </ion-row>
        <ion-row>
          <ion-col no-padding>
            <span class="body-2">Phone:</span><br>
            <ion-input type="text" name="phone" [(ngModel)]="user.phone" [ngClass]="editClass" [disabled]="!isEdit" class="body-2 gray">{{user.phone}}</ion-input></ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
    <ion-row class="spacer">
      <ion-col no-padding>
        <span class="body-2">Skills:</span><br>
        <span class="body-2 gray" *ngFor="let s of user.skills">{{s}} </span>
        <span class="body-2 primary" *ngIf="!user.skills.length" (click)="editSkills()">You dont have any skills. Click here to add some.</span>

      </ion-col>
      <ion-col col-1 *ngIf="isEdit" align-self-center>
        <ion-row align-items-center justify-content-end>
          <ion-icon name="create" class="editIcon gray" (click)="editSkills()"></ion-icon>
        </ion-row>
      </ion-col>
    </ion-row>
    <ion-row class="spacer">
      <ion-col no-padding>
        <span class="body-2">Areas of Interest:</span><br>
        <span class="body-2 gray" *ngFor="let s of user.aoi">{{s}} </span>
        <span class="body-2 primary" *ngIf="!user.aoi.length" (click)="editInterests()">You dont have any skills. Click here to add some.</span>
      </ion-col>
      <ion-col col-1 *ngIf="isEdit" align-self-center>
        <ion-row align-items-center justify-content-end>
          <ion-icon name="create" class="editIcon gray" (click)="editInterests()"></ion-icon>
        </ion-row>
      </ion-col>
    </ion-row>
    <ion-row class="spacer">
      <ion-col no-padding>
        <span class="body-2">Testimonials:</span><br>
        <div *ngFor="let t of testimonials" padding text-center>
          <span class="body-2 primary" padding>"{{t.text}}"</span><br>
          <span class="body-2 primary" padding>-- {{t.from}}</span>
        </div>
      </ion-col>
    </ion-row>
    <ion-row padding-vertical *ngIf="isEdit">
      <button ion-button block (click)="save()">Save</button>
    </ion-row>
    <ion-row>
      <ion-col no-padding>
        <ion-list>
          <ion-item>
            <ion-input placeholder="Add a testimonial.." type="text" name="add-testimonial" id="testimonial" [(ngModel)]="newTestimonial" clearInput></ion-input>
          </ion-item>
          <ion-item>
            <button ion-button block (click)="addTestimonial()">Add</button>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
    <ion-row padding-vertical *ngIf="canEdit && !isEdit">
      <button ion-button clear block (click)="logout()">Log Out</button>
    </ion-row>
  </ion-grid>
</ion-content>
